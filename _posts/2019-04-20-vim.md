---
title:  "mis dos editores: 2. vim"
layout: post
date:   2019-04-20
category: blog
author: jartigag
image: /assets/images/posts/vim.png
tag:
- vim
- editor
- herramientas
---

Continuando con los [posts sobre mis editores](https://jartigag.xyz/sublime), hoy hablar√© un poco de [Vim](https://www.vim.org), el omnipresente editor de los sistemas UNIX. Es de sobra conocida la [pol√©mica entre editores](https://en.wikipedia.org/wiki/Editor_war), que al final es una cuesti√≥n de gustos. En mi caso, Vim re√∫ne varias de las cualidades que me gustan en un editor. La primera y por la que definitivamente me decid√≠ a usarlo en serio (f√≠jate si soy tontaco üòÇ), es porque, al ser una herramienta de l√≠nea de comandos, me permit√≠a ponerle [fondo transl√∫cido](https://mastodon.social/@jartigag/101410841768233301). Este tipo de detalles son los que marcan la diferencia para m√≠ üòÅ    
Pero, m√°s en serio, hay unos cuantos factores m√°s importantes que me atraen como para que se haya convertido en mi editor de terminal preferido.

![]({{site.baseurl}}/assets/images/posts/vim.png)

## /√≠ndice:

- [Por qu√© Vim](#por-qu√©-vim)
	- [Dominando el lenguaje de Vim](#dominando-el-lenguaje-de-vim)
		- ["Verbos" en Vim](#verbos-en-vim)
		- [Word motions](#word-motions)
- [Mi .vimrc](#mi-vimrc)
	- [vim-logbook](#vim-logbook)
	- [ttymetracker](#ttymetracker)

## Por qu√© Vim

Ya he se√±alado de pasada la omnipresencia de Vim: que est√© instalado en casi cualquier m√°quina GNU/Linux en la que vayas a trabajar es un gran punto a favor. Sobre esto, tambi√©n mencionar√≠a que precisamente **porque te puede tocar trabajar en un Vim "a pelo"**, sin tus extras ni tu configuraci√≥n propia, conviene acostumbrarse al flujo de trabajo de Vim por defecto. Aunque luego en nuestra m√°quina habitual retoquemos Vim con peque√±as mejoras a nuestro gusto, creo que mantener esas "necesidades de personalizaci√≥n" al m√≠nimo a la larga es una ventaja, para no sentirse como un pulpo en un garaje cuando no dispongamos de nuestro `.vimrc`. 

Pienso que Vim en cierta manera encaja con la primera norma de la filosof√≠a UNIX: *"Make each program do one thing well"*, un principio del que soy muy fan. Cuando uso Vim quiero un editor de texto, no ["un sistema operativo que necesita un editor mejor"](http://wiki.c2.com/?EmacsAsOperatingSystem) üòõ Y si luego quieres extender alguna funci√≥n de Vim, siempre puedes [escribirte tu propio script](http://andrewscala.com/vimscript) o buscar el que mejor te vaya [entre los miles que ya hay escritos](https://www.vim.org/scripts).

### Dominando el lenguaje de Vim

Cito aqu√≠ algunas observaciones que hizo el desarrollador [Chris Toomey](https://ctoomey.com) en su charla [Mastering the Vim Language](https://youtu.be/wlR5gYd6um0) y que me han parecido rese√±ables. Explican la filosof√≠a de Vim mejor de lo que yo podr√≠a hacerlo.

"Mucha gente habla de lo r√°pido que puedes ser en Vim. Pero no es un tema de velocidad. La velocidad es un beneficio que obtienes al usar Vim, pero no es la raz√≥n principal por la que uso Vim. Uso Vim porque no tengo que pensar"
> ["Typing is not the bottleneck"](http://anarchycreek.com/2009/05/26/how-tdd-and-pairing-increase-production)

"**El tiempo m√°s importante** no es el que paso escribiendo; **es el que paso pensando.**"

"En cuanto a pensar, estoy limitado de dos formas: estoy limitado en tiempo (lleva un tiempo pensar) y, lo que es m√°s importante, estoy limitado en la cantidad de pensamiento √∫til que puedo usar en un d√≠a. Y, francamente, no quiero tener que emplear ninguna unidad de pensamiento en mi editor. Por eso amo Vim."

"**Vim me da un lenguaje para expresar los cambios que quiero hacer**, de la forma m√°s concisa, eficiente y f√°cil de interactuar posible."

"La mayor√≠a de los editores tratan la inserci√≥n de texto como la acci√≥n principal. Vim se centra en el hecho de que los programadores / editores / escritores en general pasamos la mayor parte del tiempo editando, no escribiendo."

#### ["Verbos" en Vim](http://vimdoc.sourceforge.net/htmldoc/motion.html#operator):
- `d`: **Delete**
- `c`: **Change** (borrar y entrar en modo Inserci√≥n)
- `>`: **Indent**
- `v`: **Visually select**
- `y`: **Yank** (copiar)
- `.`: **Repeat last action**

Algunos operadores frecuentes tienen atajos, como los que se refieren al caracter actual bajo el cursor:  
- `x`: **Delete character under cursor**
- `r`: **Replace character under cursor with another character**
- `s`: **Change character under cursor** (borrar y entrar en modo Inserci√≥n)

#### [Word motions](http://vimdoc.sourceforge.net/htmldoc/motion.html#word-motions):
Mover el cursor a:  
- `w`: **word**
- `b`: **beggining of the word**
- `e`: **end of the word**
- `$`: **end of the line**

Expresiones de ejemplo:  
- `5j`: **down 5 lines**
- `gg`: **Go to start**
- `dt"`: **Delete to the next double quote**
- `ciw`: **Change in word**

## Mi .vimrc

Toda la configuraci√≥n de Vim reside en el fichero `.vimrc`, que cada usuario pone en su `/home/usuario/` (adem√°s est√° el directorio `.vim/` para plugins y as√≠). Ah√≠ cada uno incluye sus atajos, plugins, ajustes por defecto, etc.


### vim-logbook

Ya sab√©is que yo no soy de muchos plugins, pero hay uno que uso a diario y me encanta por su simplicidad y utilidad: [vim-logbook](https://github.com/jamesroutley/vim-logbook). Facilita llevar un cuaderno de bit√°cora para programadores o cualquier otro profesional. Lo encontr√© de casualidad en el post ["Using a logbook to improve your programming" de James Routley](https://routley.io/tech/2017/11/23/logbook.html), y me vino al pelo para trasladar mis notas tomadas con papel y boli a un formato igual de √°gil pero con las ventajas a√±adidas de lo digital. El backup que hago todos los d√≠as con `rsync` posibilita recuperarse de [cat√°strofes como aquella del `rm -rf`](https://mastodon.social/@jartigag/101736679079543483) üòÖ

### ttymetracker

Aprovechando vim-logbook, √∫ltimamente he desarrollado una herramienta que tambi√©n uso a diario: [ttymetracker, el time-tracker de terminal](https://github.com/jartigag/ttymetracker). Con ella, adem√°s de anotar lo que voy haciendo y aprendiendo, gestiono tambi√©n mi lista de tareas pendientes (con el m√≥dulo **todo-list**). Aparte, escrib√≠ un m√≥dulo llamado **anuko**, con el que, en vez de tener que rellenar un formulario por cada tarea en este [sistema open-source de control de tiempo](https://www.anuko.com/time_tracker/index.htm) que empleaba mi empresa, las publicaba todas de golpe una vez al d√≠a, al estilo *commit* de Git. No s√© si esta misma aplicaci√≥n se usar√° en alg√∫n otro sitio, pero por si le puede ser de utilidad a alguien (aunque sea adaptando la idea), [aqu√≠ queda](https://github.com/jartigag/ttymetracker).

Por lo dem√°s, mi `.vimrc` se compone de pocas l√≠neas (al menos por ahora, que dentro de un tiempo igual ojeas mis [dotfiles](https://github.com/jartigag/dotfiles) y el .vimrc se ha desmadrado üòÇ). Explicado en los propios comentarios, queda as√≠:

```
call plug#begin('~/.vim/plugged')
Plug 'jartigag/vim-logbook'
call plug#end()

" `jj` quits Insert mode
:imap jj <Esc> 

" `right` and `l` wrap to the beginning of the next line, the same with `left` and `h`:
:set whichwrap+=>,l
:set whichwrap+=<,h

" mouse support
set mouse=a

" don't allow broken words at the end of the line
set linebreak
```

Las primeras tres l√≠neas corresponden al plugin que he comentado ([la versi√≥n que retoqu√©](https://github.com/jartigag/vim-logbook)), instalado mediante el gestor minimalista de plugins [vim-plug](https://github.com/junegunn/vim-plug). ¬øPor qu√© eleg√≠ este gestor? Pues no s√©, por sencillez. Hab√≠a m√°s, y [tendr√°n sus diferencias](https://vi.stackexchange.com/questions/388/what-is-the-difference-between-the-vim-plugin-managers), pero de momento con este me vale.

Hasta aqu√≠ llega lo que s√© sobre Vim a d√≠a de hoy. Si sigo descubriendo nuevos *trucos y magia* en el mundillo de los editores como para hacer un nuevo post, no dud√©is que lo compartir√© en este mismo blog. 
